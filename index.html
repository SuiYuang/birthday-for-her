<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>æ™ºæ•</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;}
body{
  font-family:"PingFang SC","Microsoft YaHei",sans-serif;
  background:#0a0b14;
  color:#f4f4f6;
  overflow-x:hidden;
}

/* ===== section ===== */
section{
  height:100vh;
  position:relative;
  overflow:hidden;
}

/* ===== å°é¢ ===== */
.cover{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  transition:opacity .6s ease, transform .6s ease, filter .6s ease;
  z-index:10;
}
.cover.hide{
  opacity:0;
  transform:scale(.94) translateY(-30px);
  filter:blur(8px);
  pointer-events:none;
}
.cover-fluid{
  position:absolute;
  width:120vmax;
  height:120vmax;
  filter:blur(70px);
  background:radial-gradient(circle, rgba(150,100,120,.35), rgba(110,90,170,.25), transparent 70%);
  animation:coverDrift 30s ease-in-out infinite alternate;
}
@keyframes coverDrift{to{transform:translate(160px,-140px) scale(1.1);}}
.cover-title{
  font-size:22px;
  letter-spacing:2px;
  margin-bottom:14px;
  background:linear-gradient(120deg,#f5c6d4,#e6d9ff,#f5c6d4);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.cover-hint{
  font-size:11px;
  opacity:.4;
  animation:floatHint 2.8s ease-in-out infinite;
}
@keyframes floatHint{50%{transform:translateY(6px);}}

/* ===== æ­£æ–‡èƒŒæ™¯ ===== */
.fluid{
  position:absolute;
  width:95vmax;
  height:95vmax;
  filter:blur(60px);
  opacity:.75;
  animation:drift 40s ease-in-out infinite alternate;
}
.fluid.one{
  background:radial-gradient(circle, rgba(150,100,120,.85), rgba(150,100,120,.25), transparent 70%);
  top:-35%; left:-25%;
}
.fluid.two{
  background:radial-gradient(circle, rgba(110,90,170,.8), rgba(110,90,170,.28), transparent 70%);
  bottom:-40%; right:-30%;
}
.fluid.three{
  background:radial-gradient(circle, rgba(90,120,190,.7), rgba(90,120,190,.22), transparent 72%);
  top:15%; left:50%;
}
@keyframes drift{to{transform:translate(180px,-160px) scale(1.15);}}

/* ===== æ˜Ÿæ˜Ÿ ===== */
.spark{
  position:fixed;
  bottom:-12vh;
  width:3px;height:3px;
  background:rgba(255,215,185,.75);
  border-radius:50%;
  box-shadow:0 0 10px rgba(255,200,160,.8);
  animation:floatUp linear infinite, glow 3s ease-in-out infinite;
  pointer-events:none;
  z-index:2;
}
@keyframes floatUp{to{transform:translateY(-120vh);}}
@keyframes glow{50%{opacity:1;}}

/* ===== å¡ç‰‡ ===== */
.card{
  position:absolute;
  left:50%;top:50%;
  width:78%;
  max-width:320px;
  padding:40px 22px;
  background:linear-gradient(180deg, rgba(70,60,90,.55), rgba(28,24,44,.55));
  backdrop-filter:blur(36px);
  border-radius:32px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.05), 0 40px 120px rgba(0,0,0,.7);
  text-align:center;
  opacity:0;
  transform:translate(-50%,-48%) scale(.96);
}
.card.show{animation:cardIn .6s ease forwards;}
@keyframes cardIn{to{opacity:1;transform:translate(-50%,-50%) scale(1);}}
.card.fadeOut{
  animation:fadeOutCard 2s ease forwards;
}
@keyframes fadeOutCard{
  0%{opacity:1;transform:translate(-50%,-50%) scale(1);}
  100%{opacity:0;transform:translate(-50%,-50%) scale(1);}
}

/* ===== æ–‡æœ¬ ===== */
h1{
  font-size:22px;
  margin-bottom:22px;
  background:linear-gradient(120deg,#f5c6d4,#e6d9ff,#f5c6d4);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.text{font-size:12px;line-height:2.1;}
.char{opacity:0;animation:charIn .6s ease forwards;}
@keyframes charIn{to{opacity:1;}}
.footer{margin-top:24px;font-size:10px;opacity:.6;}

/* ===== åº•éƒ¨éŸ³ä¹æç¤º ===== */
.music-hint{
  position:fixed;
  bottom:14px;
  width:100%;
  text-align:center;
  font-size:11px;
  letter-spacing:1px;
  opacity:.35;
  animation:hintBreath 3s ease-in-out infinite;
  transition:opacity 1.2s ease;
  pointer-events:none;
  z-index:5;
}
.music-hint.hide{opacity:0;}
@keyframes hintBreath{50%{opacity:.6;}}

/* ===== ç«ç„°å…‰æ™• ===== */
.flame-glow{
  position:absolute;
  left:50%; bottom:20%;
  transform:translateX(-50%);
  width:150px;
  height:150px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(255,220,100,0.9), rgba(255,140,0,0.6), transparent 70%);
  opacity:0;
  z-index:6;
  filter:blur(30px);
  transition:opacity 2s ease;
  animation:flameFlicker 0.3s infinite alternate;
}
@keyframes flameFlicker{
  0%{transform:translateX(-50%) translateY(0) scale(1); opacity:0.85;}
  25%{transform:translateX(-51%) translateY(-2px) scale(1.05); opacity:0.95;}
  50%{transform:translateX(-49%) translateY(1px) scale(0.97); opacity:0.9;}
  75%{transform:translateX(-50%) translateY(-1px) scale(1.08); opacity:1;}
  100%{transform:translateX(-50%) translateY(0) scale(1); opacity:0.88;}
}
</style>
</head>

<body>

<section class="cover" id="cover">
  <div class="cover-fluid"></div>
  <div class="cover-title">ä¸€å²ä¸€ç¤¼,ä¸€å¯¸æ¬¢å–œ</div>
   <div class="cover-title"></div>
  <div class="cover-hint">å‘ä¸Šæ»‘åŠ¨</div>
</section>

<section id="main">
  <div class="fluid one"></div>
  <div class="fluid two"></div>
  <div class="fluid three"></div>

  <div class="card" id="card">
    <h1>æ™ºæ•ï¼Œç”Ÿæ—¥å¿«ä¹yo~</h1>
    <div class="text" id="text"></div>
    <div class="footer">â€”â€”éš‹ç‰æ˜‚</div>
  </div>
</section>

<div class="music-hint" id="musicHint">è½»è§¦å±å¹• Â· ç‰æ˜‚å¼¹ç´ ğŸ¹</div>

<!-- ç«ç„°å…‰æ™• -->
<div class="flame-glow" id="flameGlow"></div>

<script>
/* ===== æ˜Ÿæ˜Ÿ ===== */
setInterval(()=>{
  const s=document.createElement("div");
  s.className="spark";
  s.style.left=Math.random()*100+"%";
  s.style.animationDuration=30+Math.random()*40+"s";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),90000);
},900);

/* ===== æ–‡æœ¬ ===== */
const content=[
  "ä¸€é¡µç¹æ˜Ÿ",
  "åŠç‚¹çƒ›ç«",
  "æ­¤åˆ»å±äºä½ ",
  "",
  "æ–°çš„ä¸€å²",
  "æ„¿ä¸–ç•Œå¯¹ä½ ",
  "",
  "æ¸©æŸ”ç›¸å¾…"
];

const textBox=document.getElementById("text");
const card=document.getElementById("card");
const cover=document.getElementById("cover");
const musicHint=document.getElementById("musicHint");
const flameGlow=document.getElementById("flameGlow");

function startText(){
  let delay=0;
  content.forEach(line=>{
    line.split("").forEach(ch=>{
      const s=document.createElement("span");
      s.className="char";
      s.textContent=ch;
      s.style.animationDelay=delay+"s";
      textBox.appendChild(s);
      delay+=0.12;
    });
    textBox.appendChild(document.createElement("br"));
    delay+=0.4;
  });
  // æ–‡æœ¬ä¸å†æ·¡å‡ºï¼Œåªæ·¡å…¥ç«ç„°å…‰æ™•
  setTimeout(()=>{
    flameGlow.style.opacity=1;
  }, delay*1000 + 3000);
}

/* ===== æ»šåŠ¨è§¦å‘ ===== */
let triggered=false;
window.addEventListener("scroll",()=>{
  if(triggered) return;
  if(window.scrollY>window.innerHeight*0.8){
    triggered=true;
    const lockY=window.scrollY;
    cover.classList.add("hide");
    setTimeout(()=>cover.style.display="none",600);
    window.addEventListener("scroll",()=>{if(window.scrollY<lockY) window.scrollTo(0,lockY);});
    setTimeout(()=>{
      card.classList.add("show");
      startText();
    },500);
  }
});

/* ===== é’¢ç´ BGM ===== */
let musicStarted=false;
function startMusic(){
  if(musicStarted) return;
  musicStarted=true;
  musicHint.classList.add("hide");

  const ctx=new (window.AudioContext||window.webkitAudioContext)();
  const convolver=ctx.createConvolver();
  const rate=ctx.sampleRate;
  const len=rate*2.5;
  const ir=ctx.createBuffer(2,len,rate);
  for(let c=0;c<2;c++){
    const d=ir.getChannelData(c);
    for(let i=0;i<len;i++){
      d[i]=(Math.random()*2-1)*Math.pow(1-i/len,2.2);
    }
  }
  convolver.buffer=ir;
  convolver.connect(ctx.destination);

  const melody=[
    264,264,297,264,352,330,
    264,264,297,264,396,352,
    264,264,528,440,352,330,297,
    466,466,440,352,396,352
  ];

  function piano(freq,time){
    const o=ctx.createOscillator();
    const g=ctx.createGain();
    o.type="triangle";
    o.frequency.value=freq;
    g.gain.setValueAtTime(.001,time);
    g.gain.exponentialRampToValueAtTime(.28,time+.02);
    g.gain.exponentialRampToValueAtTime(.001,time+1.4);
    o.connect(g);
    g.connect(convolver);
    o.start(time);
    o.stop(time+2);
  }

  function play(){
    let t=ctx.currentTime;
    melody.forEach(f=>{
      piano(f,t);
      t+=0.65;
    });
    setTimeout(play,melody.length*650+2000);
  }
  play();
}

// å°é¢æˆ–æ­£æ–‡ç‚¹å‡»æ’­æ”¾éŸ³ä¹
cover.addEventListener("click",startMusic);
document.getElementById("main").addEventListener("click",startMusic);
</script>

</body>
</html>
