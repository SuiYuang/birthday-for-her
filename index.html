<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>æ™ºæ•</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
html,body{
  height:100%;
  scroll-behavior:smooth;
}
body{
  font-family:"PingFang SC","Microsoft YaHei",sans-serif;
  background:#0a0b14;
  color:#f4f4f6;
  overflow-x:hidden;
}

/* ===== é¡µé¢ç»“æ„ ===== */
section{
  height:100vh;
  position:relative;
  overflow:hidden;
}

/* ===== å°é¢ ===== */
.cover{
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

.cover-fluid{
  position:absolute;
  width:120vmax;
  height:120vmax;
  filter:blur(70px);
  background:radial-gradient(circle,
    rgba(150,100,120,.35),
    rgba(110,90,170,.25),
    transparent 70%);
  animation:coverDrift 30s ease-in-out infinite alternate;
}
@keyframes coverDrift{
  to{transform:translate(160px,-140px) scale(1.1);}
}

.cover-title{
  position:relative;
  font-size:22px;
  letter-spacing:2px;
  margin-bottom:14px;
  background:linear-gradient(120deg,#f5c6d4,#e6d9ff,#f5c6d4);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:breath 5s ease-in-out infinite;
}
@keyframes breath{
  50%{opacity:.65;}
}

.cover-hint{
  font-size:11px;
  opacity:.4;
  animation:floatHint 2.8s ease-in-out infinite;
}
@keyframes floatHint{
  50%{transform:translateY(6px);}
}

/* ===== å…‰çº¿è¡”æ¥ ===== */
.transition-light{
  position:fixed;
  inset:0;
  background:radial-gradient(circle,
    rgba(255,230,240,.35),
    rgba(255,230,240,.12),
    transparent 70%);
  pointer-events:none;
  opacity:0;
  transition:opacity .8s ease;
  z-index:999;
}
.transition-light.show{
  opacity:1;
}

/* ===== æ­£æ–‡æµä½“èƒŒæ™¯ ===== */
.fluid{
  position:absolute;
  width:95vmax;
  height:95vmax;
  filter:blur(60px);
  opacity:.75;
  animation:drift 40s ease-in-out infinite alternate;
}
.fluid.one{
  background:radial-gradient(circle,
    rgba(150,100,120,.85),
    rgba(150,100,120,.25),
    transparent 70%);
  top:-35%; left:-25%;
}
.fluid.two{
  background:radial-gradient(circle,
    rgba(110,90,170,.8),
    rgba(110,90,170,.28),
    transparent 70%);
  bottom:-40%; right:-30%;
  animation-duration:46s;
}
.fluid.three{
  background:radial-gradient(circle,
    rgba(90,120,190,.7),
    rgba(90,120,190,.22),
    transparent 72%);
  top:15%; left:50%;
  animation-duration:52s;
}
@keyframes drift{
  to{transform:translate(180px,-160px) scale(1.15);}
}

/* ===== çƒ›å…‰ç²’ ===== */
.spark{
  position:absolute;
  width:3px;height:3px;
  background:rgba(255,215,185,.75);
  border-radius:50%;
  box-shadow:0 0 10px rgba(255,200,160,.8);
  animation:floatUp linear infinite, glow 3s ease-in-out infinite;
}
@keyframes floatUp{to{transform:translateY(-120vh);}}
@keyframes glow{50%{opacity:1;}}

/* ===== å¡ç‰‡ï¼ˆç»ç’ƒÂ·æ·±è‰²æŸ”å’Œï¼‰ ===== */
.card{
  position:absolute;
  left:50%;top:50%;
  width:78%;
  max-width:320px;
  padding:40px 22px;
  background:linear-gradient(
    180deg,
    rgba(70,60,90,.55),
    rgba(28,24,44,.55)
  );
  backdrop-filter:blur(36px);
  border-radius:32px;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.05),
    0 40px 120px rgba(0,0,0,.7);
  text-align:center;

  /* åˆå§‹éšè— */
  opacity:0;
  transform:translate(-50%,-48%) scale(.96);
}

/* å¡ç‰‡å‘¼å¸é¢„çƒ­ */
.card.warmup{
  animation:cardWarm .55s ease forwards;
}
@keyframes cardWarm{
  to{
    opacity:1;
    transform:translate(-50%,-50%) scale(1);
  }
}

/* ===== æ–‡æœ¬ ===== */
h1{
  font-size:22px;
  margin-bottom:22px;
  background:linear-gradient(120deg,#f5c6d4,#e6d9ff,#f5c6d4);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.text{
  font-size:12px;
  line-height:2.1;
}
.char{
  opacity:0;
  animation:charIn .6s ease forwards;
}
@keyframes charIn{to{opacity:1;}}

.footer{
  margin-top:24px;
  font-size:10px;
  opacity:.6;
}

.hint{
  position:absolute;
  bottom:16px;
  width:100%;
  text-align:center;
  font-size:11px;
  opacity:.35;
}
</style>
</head>

<body>

<div class="transition-light" id="light"></div>

<!-- å°é¢ -->
<section class="cover">
  <div class="cover-fluid"></div>
  <div class="cover-title">è¿™ä¸€é¡µï¼Œè¢«å¥½å¥½ç•™ç€</div>
  <div class="cover-hint">å‘ä¸‹æ»‘åŠ¨</div>
</section>

<!-- æ­£æ–‡ -->
<section id="main">

  <div class="fluid one"></div>
  <div class="fluid two"></div>
  <div class="fluid three"></div>

  <script>
  for(let i=0;i<36;i++){
    const s=document.createElement("div");
    s.className="spark";
    s.style.left=Math.random()*100+"%";
    s.style.bottom="-10%";
    s.style.animationDuration=36+Math.random()*40+"s";
    document.body.appendChild(s);
  }
  </script>

  <div class="card">
    <h1>ç”Ÿæ—¥å¿«ä¹ï¼Œæ™ºæ•</h1>
    <div class="text" id="text"></div>
    <div class="footer">è¢«è½»è½»ä¿å­˜çš„ä¸€å¤©</div>
  </div>

  <div class="hint">è½»è§¦å±å¹• Â· æ’­æ”¾éŸ³ä¹ ğŸ¹</div>
</section>

<script>
/* ===== æ–‡æœ¬å†…å®¹ ===== */
const content=[
  "ä»Šå¤©ä¸éœ€è¦è®¡åˆ’æœªæ¥",
  "ä¹Ÿä¸å¿…å›åº”ä¸–ç•Œçš„æœŸå¾…",
  "",
  "è¿™ä¸€åˆ»",
  "åªæ˜¯å±äºä½ ",
  "",
  "æ„¿æ—¶é—´å¯¹ä½ ",
  "ä¸€ç›´ç•™æœ‰æ¸©æŸ”"
];

const box=document.getElementById("text");
const card=document.querySelector(".card");
const light=document.getElementById("light");

let entered=false;
let textStarted=false;

/* é€å­—å¼€å§‹å‡½æ•° */
function startText(){
  if(textStarted) return;
  textStarted=true;

  let delay=0;
  content.forEach(line=>{
    line.split("").forEach(ch=>{
      const s=document.createElement("span");
      s.className="char";
      s.textContent=ch;
      s.style.animationDelay=delay+"s";
      box.appendChild(s);
      delay+=0.12;
    });
    box.appendChild(document.createElement("br"));
    delay+=0.4;
  });
}

/* ===== ä¸‹æ»‘è¿›å…¥æ­£æ–‡çš„å”¯ä¸€æ—¶é—´é”šç‚¹ ===== */
window.addEventListener("scroll",()=>{
  if(!entered && window.scrollY > window.innerHeight * 0.6){
    entered=true;

    // è§¦è§‰
    if(navigator.vibrate) navigator.vibrate(18);

    // å…‰çº¿è¡”æ¥
    light.classList.add("show");
    setTimeout(()=>light.classList.remove("show"),800);

    // å¡ç‰‡é¢„çƒ­
    card.classList.add("warmup");

    // é¢„çƒ­å®Œæˆåæ–‡å­—å‡ºç°
    setTimeout(startText,550);
  }
});

/* ===== éŸ³ä¹ï¼ˆä¿æŒä¸Šä¸€ç‰ˆé’¢ç´ï¼‰ ===== */
let musicStarted=false;
document.getElementById("main").addEventListener("click",()=>{
  if(musicStarted) return;
  musicStarted=true;

  const ctx=new (window.AudioContext||window.webkitAudioContext)();
  const convolver=ctx.createConvolver();
  const rate=ctx.sampleRate;
  const len=rate*2.5;
  const ir=ctx.createBuffer(2,len,rate);
  for(let c=0;c<2;c++){
    const d=ir.getChannelData(c);
    for(let i=0;i<len;i++){
      d[i]=(Math.random()*2-1)*Math.pow(1-i/len,2.2);
    }
  }
  convolver.buffer=ir;
  convolver.connect(ctx.destination);

  const melody=[264,264,297,264,352,330,264,264,297,264,396,352,264,264,528,440,352,330,297,466,466,440,352,396,352];

  function piano(freq,time){
    const o=ctx.createOscillator();
    const g=ctx.createGain();
    o.type="triangle";
    o.frequency.value=freq;
    g.gain.setValueAtTime(.001,time);
    g.gain.exponentialRampToValueAtTime(.28,time+.02);
    g.gain.exponentialRampToValueAtTime(.001,time+1.4);
    o.connect(g);
    g.connect(convolver);
    o.start(time);
    o.stop(time+2);
  }

  function play(){
    let t=ctx.currentTime;
    melody.forEach(f=>{
      piano(f,t);
      t+=0.65;
    });
    setTimeout(play,melody.length*650+2000);
  }
  play();
});
</script>

</body>
</html>
